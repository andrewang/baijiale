{"version":3,"sources":["../../../../../../assets/scripts/common/chip/assets/scripts/common/chip/ChipSmall.js"],"names":["BaseObj","require","clientBetState","prePath","chipConfig","size","width","height","spPath","cc","Class","extends","properties","value","onLoad","_super","init","setData","data","indexName","area","clientSeatId","seatData","user_base_info","uid","gUserData","config","fullSpPath","resMgr","updateSprite","find","node","setContentSize","string","getValue","move","pos","callback","stopAllActions","dis","pDistance","position","time","Math","ceil","moveTo","cb","callFunc","seq","sequence","runAction"],"mappings":"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","file":"ChipSmall.js","sourceRoot":"../../../../../../assets/scripts/common/chip","sourcesContent":["var BaseObj = require(\"BaseObj\")\n\nvar clientBetState = require(\"GameConfig\").clientBetState\n\nvar prePath = \"chip/cmbc/\"\nvar chipConfig = {}\nchipConfig[\"xian1\"] = { size: { width: 59, height: 59 }, spPath: \"xian/0_\" }\nchipConfig[\"zhuang1\"] = { size: { width: 51, height: 50 }, spPath: \"zhuang/0_\" }\nchipConfig[\"xian2\"] = { size: { width: 60, height: 58 }, spPath: \"xian/20_\" }\nchipConfig[\"zhuang2\"] = { size: { width: 52, height: 49 }, spPath: \"zhuang/20_\" }\nchipConfig[\"xian3\"] = { size: { width: 59, height: 56 }, spPath: \"xian/40_\" }\nchipConfig[\"zhuang3\"] = { size: { width: 51, height: 48 }, spPath: \"zhuang/40_\" }\nchipConfig[\"xian4\"] = { size: { width: 58, height: 51 }, spPath: \"xian/60_\" }\nchipConfig[\"zhuang4\"] = { size: { width: 51, height: 46 }, spPath: \"zhuang/60_\" }\nchipConfig[\"xian5\"] = { size: { width: 54, height: 46 }, spPath: \"xian/90_\" }\nchipConfig[\"zhuang5\"] = { size: { width: 49, height: 42 }, spPath: \"zhuang/90_\" }\n\n// chipConfig[\"xian6\"] = chipConfig[\"xian5\"]\n// chipConfig[\"zhuang6\"] = chipConfig[\"zhuang5\"]\n// chipConfig[\"xian7\"] = chipConfig[\"xian4\"]\n// chipConfig[\"zhuang7\"] = chipConfig[\"zhuang4\"]\n// chipConfig[\"xian8\"] = chipConfig[\"xian3\"]\n// chipConfig[\"zhuang8\"] = chipConfig[\"zhuang3\"]\n// chipConfig[\"xian9\"] = chipConfig[\"xian2\"]\n// chipConfig[\"zhuang9\"] = chipConfig[\"zhuang2\"]\n\nchipConfig[\"xian6\"] = { size: { width: 54, height: 46 }, spPath: \"xian/-90_\" }\nchipConfig[\"zhuang6\"] = { size: { width: 49, height: 42 }, spPath: \"zhuang/-90_\" }\nchipConfig[\"xian7\"] = { size: { width: 58, height: 51 }, spPath: \"xian/-60_\" }\nchipConfig[\"zhuang7\"] = { size: { width: 51, height: 46 }, spPath: \"zhuang/-60_\" }\nchipConfig[\"xian8\"] = { size: { width: 59, height: 56 }, spPath: \"xian/-40_\" }\nchipConfig[\"zhuang8\"] = { size: { width: 51, height: 48 }, spPath: \"zhuang/-40_\" }\nchipConfig[\"xian9\"] = { size: { width: 60, height: 58 }, spPath: \"xian/-20_\" }\nchipConfig[\"zhuang9\"] = { size: { width: 52, height: 49 }, spPath: \"zhuang/-20_\" }\n\nchipConfig[\"he_my\"] = { size: { width: 51, height: 50 }, spPath: \"zhuang/0_\" }\nchipConfig[\"he_other\"] = { size: { width: 51, height: 50 }, spPath: \"zhuang/0_\" }\nchipConfig[\"xiandui_my\"] = { size: { width: 51, height: 46 }, spPath: \"zhuang/60_\" }\nchipConfig[\"xiandui_other\"] = { size: { width: 51, height: 48 }, spPath: \"zhuang/40_\" }\nchipConfig[\"zhuangdui_my\"] = { size: { width: 52, height: 49 }, spPath: \"xian/40_\" }\nchipConfig[\"zhuangdui_other\"] = { size: { width: 51, height: 46 }, spPath: \"zhuang/60_\" }\n\ncc.Class({\n    extends: BaseObj,\n\n    properties: {\n        value: 0,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this._super()\n\n        this.init()\n    },\n\n    init: function () {\n        // this.num = 0\n    },\n\n    //data {value, area, clientSeatId, seatData}\n    setData: function (data) {\n        this.data = data\n        // this.find(\"imgBg\").spriteFrame = cc.res[\"chip/chip_\" + data.value]\n        //获取索引key\n        var indexName = clientBetState[data.area]\n        if (1 == data.area || 2 == data.area) {\n            indexName = indexName + data.clientSeatId\n        }\n        else {\n            // if (1 == data.clientSeatId) {\n            if (data.seatData.user_base_info.uid == gUserData.uid) {\n                indexName = indexName + \"_my\"\n            } else {\n                indexName = indexName + \"_other\"\n            }\n        }\n        var config = chipConfig[indexName]\n        // var fullSpPath = prePath + config.spPath + data.value\n        var fullSpPath = \"chip/\" + data.value\n        cc.resMgr.updateSprite(this.find(\"imgBg\"), fullSpPath)\n        // this.node.setContentSize(config.size)\n        this.node.setContentSize({ width: 85, height: 88 })\n        this.find(\"txtNum\").string = data.value\n    },\n\n    getValue: function () {\n        return this.data.value\n    },\n\n    move: function (pos, callback) {\n        this.node.stopAllActions()\n        var dis = cc.pDistance(this.node.position, pos)\n        var time = Math.ceil(dis / 100) * 0.1\n        var moveTo = cc.moveTo(time, pos)\n        var cb = cc.callFunc(function () {\n            if (callback) {\n                callback()\n            }\n        })\n        var seq = cc.sequence(moveTo, cb)\n        this.node.runAction(seq)\n\n        //test\n        // this.node.position = pos\n    },\n\n    // settle: function (pos) {\n    //     var worldPos = cc.gameMgr.view.node.convertToWorldSpaceAR(this.node.parent.parent.position)\n    //     var localPos = cc.gameMgr.view.find(\"nodeBetMove\").convertToNodeSpaceAR(worldPos)\n    //     this.node.removeFromParent()\n    //     cc.gameMgr.view.find(\"nodeBetMove\").addChild(this.node)\n    //     this.node.position = localPos\n        \n    //     this.move(pos, function () {\n    //         this.node.destroy()\n    //     }.bind(this))\n    // },\n});\n"]}