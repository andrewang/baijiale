{"version":3,"sources":["../../../../../assets/scripts/utils/assets/scripts/utils/ProtoUtil.js"],"names":["Proto","traverse","msg","f","Object","Array","i","length","k","indexOf","isNaN","s","tmp","decode","a","split","str","substring","toUpperCase","join","isUpperCase","encode","c","push","toLowerCase","module","exports"],"mappings":";;;;;;AAAA,IAAIA,QAAQ,EAAZ;;AAEA,IAAIC,WAAW,SAAXA,QAAW,CAAUC,GAAV,EAAeC,CAAf,EAAkB;AAC7B,QAAK,CAAED,GAAF,YAAiBE,MAAtB,EAA8B;AAC1B,eAAOF,GAAP;AACH;AACD,QAAIA,eAAeG,KAAnB,EAA0B;AACtB,aAAK,IAAIC,IAAG,CAAZ,EAAeA,IAAIJ,IAAIK,MAAvB,EAA+BD,GAA/B,EAAoC;AAChCL,qBAASC,IAAII,CAAJ,CAAT,EAAiBH,CAAjB;AACH;AACJ,KAJD,MAIO;AACH,aAAK,IAAIK,CAAT,IAAcN,GAAd,EAAmB;AACf,gBAAIM,EAAEC,OAAF,CAAU,GAAV,KAAkB,CAAtB,EAAyB;AACrB;AACH;AACD,gBAAIP,IAAIM,CAAJ,aAAkBJ,MAAtB,EAA8B;AAC1BH,yBAASC,IAAIM,CAAJ,CAAT,EAAiBL,CAAjB;AACH;AACD,gBAAK,OAAOK,CAAP,IAAa,QAAb,IAAyBE,MAAMF,CAAN,CAA9B,EAAwC;AACpC,oBAAIG,IAAIR,EAAEK,CAAF,CAAR;AACA,oBAAII,MAAMV,IAAIM,CAAJ,CAAV;AACA,uBAAON,IAAIM,CAAJ,CAAP;AACAN,oBAAIS,CAAJ,IAASC,GAAT;AACH;AACJ;AACJ;AACJ,CAxBD;;AA0BAZ,MAAMa,MAAN,GAAe,UAAUX,GAAV,EAAe;AAC1BD,aAASC,GAAT,EAAc,UAAUS,CAAV,EAAa;AACvB,YAAIA,EAAEF,OAAF,CAAU,GAAV,IAAiB,CAArB,EAAwB;AACpB,mBAAOE,CAAP;AACH;AACD,YAAIG,IAAIH,EAAEI,KAAF,CAAQ,GAAR,CAAR;AACA,aAAK,IAAIT,CAAT,IAAcQ,CAAd,EAAiB;AACb,gBAAIR,IAAI,CAAR,EAAW;AACP,oBAAIU,MAAMF,EAAER,CAAF,CAAV;AACAQ,kBAAER,CAAF,IAAOU,IAAIC,SAAJ,CAAc,CAAd,EAAgB,CAAhB,EAAmBC,WAAnB,KAAmCF,IAAIC,SAAJ,CAAc,CAAd,CAA1C;AACH;AACJ;AACD,eAAOH,EAAEK,IAAF,CAAO,EAAP,CAAP;AACH,KAZD;AAaA,WAAOjB,GAAP;AACH,CAfD;;AAiBA,SAASkB,WAAT,CAAqBJ,GAArB,EAA0B;AACtB,WAAOA,QAAQA,IAAIE,WAAJ,EAAf;AACH;;AAEDlB,MAAMqB,MAAN,GAAe,UAAUnB,GAAV,EAAe;AAC1BD,aAASC,GAAT,EAAc,UAAUS,CAAV,EAAa;AACvB,YAAIG,IAAI,EAAR;AACA,aAAK,IAAIR,IAAE,CAAX,EAAcA,IAAIK,EAAEJ,MAApB,EAA4BD,GAA5B,EAAiC;AAC7B,gBAAIgB,IAAIX,EAAEL,CAAF,CAAR;AACA,gBAAIc,YAAYE,CAAZ,CAAJ,EAAoB;AAChBR,kBAAES,IAAF,CAAO,GAAP;AACAT,kBAAES,IAAF,CAAOD,EAAEE,WAAF,EAAP;AACH,aAHD,MAGO;AACHV,kBAAES,IAAF,CAAOD,CAAP;AACH;AACJ;AACD,eAAOR,EAAEK,IAAF,CAAO,EAAP,CAAP;AACH,KAZD;AAaA,WAAOjB,GAAP;AACH,CAfD;;AAiBAuB,OAAOC,OAAP,GAAiB1B,KAAjB","file":"ProtoUtil.js","sourceRoot":"../../../../../assets/scripts/utils","sourcesContent":["var Proto = {}\n\nvar traverse = function (msg, f) {\n    if ( ! msg instanceof Object) {\n        return msg;\n    }\n    if (msg instanceof Array) {\n        for (var i =0; i < msg.length; i++) {\n            traverse(msg[i], f);\n        }\n    } else {\n        for (var k in msg) {\n            if (k.indexOf('_') == 0) {\n                continue;\n            }\n            if (msg[k] instanceof Object) {\n                traverse(msg[k], f);\n            }\n            if ( typeof(k) == \"string\" && isNaN(k)) {\n                var s = f(k);\n                var tmp = msg[k];\n                delete msg[k];\n                msg[s] = tmp; \n            }\n        }  \n    }\n}\n\nProto.decode = function (msg) {\n    traverse(msg, function (s) {\n        if (s.indexOf(\"_\") < 0) {\n            return s;\n        }\n        var a = s.split(\"_\");\n        for (var i in a) {\n            if (i > 0) {\n                var str = a[i];\n                a[i] = str.substring(0,1).toUpperCase() + str.substring(1);\n            }\n        }\n        return a.join('');\n    });\n    return msg;\n}\n\nfunction isUpperCase(str) {\n    return str === str.toUpperCase();\n}\n\nProto.encode = function (msg) {\n    traverse(msg, function (s) {\n        var a = [];\n        for (var i=0; i < s.length; i++) {\n            var c = s[i];\n            if (isUpperCase(c)) {\n                a.push('_');\n                a.push(c.toLowerCase());\n            } else {\n                a.push(c);\n            }\n        }\n        return a.join('');\n    });\n    return msg;\n}\n\nmodule.exports = Proto;"]}