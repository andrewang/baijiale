{"version":3,"sources":["../../../../../../assets/scripts/common/base/assets/scripts/common/base/BaseView.js"],"names":["BaseObj","require","cc","Class","extends","properties","moduleName","default","visible","onLoad","_super","mgr","node","addComponent","view","bg","getChildByName","on","Node","EventType","TOUCH_END","touch","hide","body","onEnable","event","stopPropagation","onDisable","off","show","active","isShow","onDestroy","log","name"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,OADJ;;AAGLK,gBAAY;AACR;AACAC,oBAAY;AACRC,qBAAS,EADD;AAER;AACAC,qBAAS;AAHD;AAFJ,KAHP;;AAYL;AACA;AACA;AACA;;AAEAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACA,YAAI,KAAKJ,UAAL,IAAmB,EAAvB,EAA2B;AACvB,iBAAKK,GAAL,GAAW,KAAKC,IAAL,CAAUC,YAAV,CAAuB,KAAKP,UAAL,GAAkB,KAAzC,CAAX;AACA,iBAAKK,GAAL,CAASG,IAAT,GAAgB,IAAhB;AACH;;AAED,YAAIC,KAAK,KAAKH,IAAL,CAAUI,cAAV,CAAyB,IAAzB,CAAT;AACA,YAAID,EAAJ,EAAQ;AACJA,eAAGE,EAAH,CAAMf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBC,SAAxB,EAAmC,UAAUC,KAAV,EAAiB;AAChD,qBAAKC,IAAL;AACH,aAFD,EAEG,IAFH;AAGH;AACD,YAAIC,OAAO,KAAKX,IAAL,CAAUI,cAAV,CAAyB,MAAzB,CAAX;AACA,YAAIO,IAAJ,EAAU;AACNA,iBAAKN,EAAL,CAAQf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBC,SAA1B,EAAqC,UAAUC,KAAV,EAAiB,CAErD,CAFD,EAEG,IAFH;AAGH;AACJ,KApCI;;AAsCLG,cAAU,oBAAY;AAClB,aAAKZ,IAAL,CAAUK,EAAV,CAAa,YAAb,EAA2B,UAAUQ,KAAV,EAAiB;AACxCA,kBAAMC,eAAN;AACH,SAFD;AAGA,aAAKd,IAAL,CAAUK,EAAV,CAAa,UAAb,EAAyB,UAAUQ,KAAV,EAAiB;AACtCA,kBAAMC,eAAN;AACH,SAFD;AAGH,KA7CI;;AA+CLC,eAAW,qBAAY;AACnB,aAAKf,IAAL,CAAUgB,GAAV,CAAc,YAAd,EAA4B,UAAUH,KAAV,EAAiB;AACzCA,kBAAMC,eAAN;AACH,SAFD;AAGA,aAAKd,IAAL,CAAUgB,GAAV,CAAc,UAAd,EAA0B,UAAUH,KAAV,EAAiB;AACvCA,kBAAMC,eAAN;AACH,SAFD;AAGH,KAtDI;;AAyDLG,UAAM,gBAAY;AACd,aAAKjB,IAAL,CAAUkB,MAAV,GAAmB,IAAnB;AACH,KA3DI;;AA6DLR,UAAM,gBAAY;AACd,aAAKV,IAAL,CAAUkB,MAAV,GAAmB,KAAnB;AACH,KA/DI;;AAiELC,YAAQ,kBAAY;AAChB,eAAO,KAAKnB,IAAL,CAAUkB,MAAjB;AACH,KAnEI;;AAqELE,eAAW,qBAAY;AACnB9B,WAAG+B,GAAH,CAAO,oBAAP,EAA6B,KAAKC,IAAlC;AACH;AAvEI,CAAT","file":"BaseView.js","sourceRoot":"../../../../../../assets/scripts/common/base","sourcesContent":["var BaseObj = require(\"BaseObj\")\r\ncc.Class({\r\n    extends: BaseObj,\r\n\r\n    properties: {\r\n        //模块名字\r\n        moduleName: {\r\n            default: \"\",\r\n            // type: 'String',\r\n            visible: false,\r\n        },\r\n    },\r\n\r\n    // ctor: function () {\r\n    //     var Manager = require(this.moduleName+\"Mgr\")\r\n    //     this.mgr = new Manager(this)\r\n    // },\r\n\r\n    onLoad: function () {\r\n        this._super()\r\n        if (this.moduleName != \"\") {\r\n            this.mgr = this.node.addComponent(this.moduleName + \"Mgr\")\r\n            this.mgr.view = this\r\n        }\r\n        \r\n        var bg = this.node.getChildByName(\"bg\")\r\n        if (bg) {\r\n            bg.on(cc.Node.EventType.TOUCH_END, function (touch) {\r\n                this.hide()\r\n            }, this)\r\n        }\r\n        var body = this.node.getChildByName(\"body\")\r\n        if (body) {\r\n            body.on(cc.Node.EventType.TOUCH_END, function (touch) {\r\n                \r\n            }, this)\r\n        }\r\n    },\r\n\r\n    onEnable: function () {\r\n        this.node.on('touchstart', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n        this.node.on('touchend', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n    },\r\n\r\n    onDisable: function () {\r\n        this.node.off('touchstart', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n        this.node.off('touchend', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n    },\r\n\r\n\r\n    show: function () {\r\n        this.node.active = true\r\n    },\r\n\r\n    hide: function () {\r\n        this.node.active = false\r\n    },\r\n\r\n    isShow: function () {\r\n        return this.node.active\r\n    },\r\n\r\n    onDestroy: function () {\r\n        cc.log(\"BaseView:onDestroy\", this.name)\r\n    },\r\n});\r\n"]}