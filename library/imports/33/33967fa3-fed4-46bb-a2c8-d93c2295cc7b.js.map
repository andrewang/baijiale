{"version":3,"sources":["../../../../../../../../assets/scripts/app/game/view/SettingView/assets/scripts/app/game/view/SettingView/SettingView.js"],"names":["BaseView","require","ChatConfig","cc","Class","extends","properties","onLoad","_super","setData","data","log","find","getComponent","Slider","progress","Toggle","isChecked","onMusicProgressChanged","sender","musicVolume","musicMgr","setMusicVolume","ProgressBar","onEffectProgressChanged","effectVolume","setEffectVolume","onBtnDismiss","gameMgr","reqRoomClose","show","getEffectVolume","getMusicVolume","i","Number","chatStage","hide","saveEffectVolume","saveMusicVolume","onToggleEvent","toggle","customEventData","name"],"mappings":"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","file":"SettingView.js","sourceRoot":"../../../../../../../../assets/scripts/app/game/view/SettingView","sourcesContent":["var BaseView = require(\"BaseView\")\nvar ChatConfig = require(\"ChatConfig\")\n\ncc.Class({\n    extends: BaseView,\n\n    properties: {\n        \n    },\n\n    onLoad: function () {\n        this._super()\n        this.setData()\n    },\n\n    setData: function (data) {\n        cc.log(\"xxx\", this.find(\"sliderMusic\").getComponent(cc.Slider).progress)\n        cc.log(this.find(\"toggle1\").getComponent(cc.Toggle).isChecked)\n    },\n\n    onMusicProgressChanged: function (sender) {\n        cc.log(sender.progress)\n        this.musicVolume = sender.progress\n        cc.musicMgr.setMusicVolume(this.musicVolume)\n        this.find(\"proMusic\").getComponent(cc.ProgressBar).progress = sender.progress\n    },\n\n    onEffectProgressChanged: function (sender) {\n        this.effectVolume = sender.progress\n        cc.musicMgr.setEffectVolume(this.effectVolume)\n        this.find(\"proEffect\").getComponent(cc.ProgressBar).progress = sender.progress\n    },\n\n    onBtnDismiss: function () {\n        cc.gameMgr.reqRoomClose()\n    },\n\n    show: function () {\n        this._super()\n        this.effectVolume = cc.musicMgr.getEffectVolume()\n        this.find(\"sliderEffect\").getComponent(cc.Slider).progress = this.effectVolume\n        this.musicVolume = cc.musicMgr.getMusicVolume()\n        this.find(\"sliderMusic\").getComponent(cc.Slider).progress = this.musicVolume\n\n        this.find(\"proMusic\").getComponent(cc.ProgressBar).progress = this.find(\"sliderMusic\").getComponent(cc.Slider).progress\n        this.find(\"proEffect\").getComponent(cc.ProgressBar).progress = this.find(\"sliderEffect\").getComponent(cc.Slider).progress\n\n        for(let i = 1; i < 5; i++)\n        {\n            if (Number(ChatConfig.chatStage) == i)\n            {\n                this.find(\"toggle\" + i).getComponent(cc.Toggle).isChecked = true\n            }\n            else\n            {\n                this.find(\"toggle\" + i).getComponent(cc.Toggle).isChecked = false\n            }\n            cc.log(\"toggle\" + i + this.find(\"toggle\" + i).getComponent(cc.Toggle).isChecked)\n        }\n    },\n\n    hide: function () {\n        this._super()\n        // cc.musicMgr.setEffectVolume(this.effectVolume)\n        // cc.musicMgr.setMusicVolume(this.musicVolume)\n        cc.musicMgr.saveEffectVolume(this.effectVolume)\n        cc.musicMgr.saveMusicVolume(this.musicVolume)\n    },\n    \n    onToggleEvent: function (toggle, customEventData){\n        cc.log(\"toggleName: \", toggle.name, \"customEventData: \", customEventData)\n        ChatConfig.chatStage = customEventData\n    }\n});\n"]}