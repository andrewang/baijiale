{"version":3,"sources":["../../../../../../assets/scripts/common/eventMgr/assets/scripts/common/eventMgr/EventMgr.js"],"names":["cc","Class","extends","Component","properties","ctor","eventMap","addEvent","name","cb","obj","arr","push","removeEvent","key","v","splice","emit","data","call"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;AACAC,UAAM,gBAAY;AACd,aAAKC,QAAL,GAAgB,EAAhB;AACH,KAVI;;AAYLC,cAAU,kBAAUC,IAAV,EAAgBC,EAAhB,EAAoBC,GAApB,EAAyB;AAC/B,YAAIC,MAAM,KAAKL,QAAL,CAAcE,IAAd,CAAV;AACA,YAAI,QAAQG,GAAZ,EAAiB;AACbA,kBAAM,EAAN;AACA,iBAAKL,QAAL,CAAcE,IAAd,IAAsBG,GAAtB;AACH;AACDA,YAAIC,IAAJ,CAAS,EAACJ,MAAOA,IAAR,EAAcC,IAAKA,EAAnB,EAAuBC,KAAMA,GAA7B,EAAT;AACH,KAnBI;;AAqBLG,iBAAa,qBAAUL,IAAV,EAAgBC,EAAhB,EAAoB;AAC7B,YAAIE,MAAM,KAAKL,QAAL,CAAcE,IAAd,CAAV;AACA,YAAI,QAAQG,GAAZ,EAAiB;AACb;AACH;AACD,aAAK,IAAIG,GAAT,IAAgBH,GAAhB,EAAqB;AACjB,gBAAII,IAAIJ,IAAIG,GAAJ,CAAR;AACA,gBAAIL,MAAMM,EAAEN,EAAZ,EAAgB;AACZ;AACAE,oBAAIK,MAAJ,CAAWF,GAAX,EAAgB,CAAhB;AACA;AACH;AACJ;AACJ,KAlCI;;AAoCLG,UAAM,cAAUT,IAAV,EAAgBU,IAAhB,EAAsB;AACxB,YAAIP,MAAM,KAAKL,QAAL,CAAcE,IAAd,CAAV;AACA;AACA,YAAI,QAAQG,GAAZ,EAAiB;AACb;AACH;AACD,aAAK,IAAIG,GAAT,IAAgBH,GAAhB,EAAqB;AACjB,gBAAII,IAAIJ,IAAIG,GAAJ,CAAR;AACA;AACAC,cAAEN,EAAF,CAAKU,IAAL,CAAUJ,EAAEL,GAAZ,EAAiBQ,IAAjB;AACH;AACJ;;AA/CI,CAAT","file":"EventMgr.js","sourceRoot":"../../../../../../assets/scripts/common/eventMgr","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        \n    },\n\n    // use this for initialization\n    ctor: function () {\n        this.eventMap = {}\n    },\n\n    addEvent: function (name, cb, obj) {\n        var arr = this.eventMap[name]\n        if (null == arr) {\n            arr = []\n            this.eventMap[name] = arr\n        }\n        arr.push({name : name, cb : cb, obj : obj})\n    },\n\n    removeEvent: function (name, cb) {\n        var arr = this.eventMap[name]\n        if (null == arr) {\n            return\n        }\n        for (var key in arr) {\n            var v = arr[key]\n            if (cb == v.cb) {\n                // delete arr[key]\n                arr.splice(key, 1)\n                return\n            }\n        }\n    },\n\n    emit: function (name, data) {\n        var arr = this.eventMap[name]\n        // cc.log(\"...\", arr)\n        if (null == arr) {\n            return\n        }\n        for (var key in arr) {\n            var v = arr[key]\n            // v.cb(data)\n            v.cb.call(v.obj, data);\n        }\n    },\n\n});\n"]}