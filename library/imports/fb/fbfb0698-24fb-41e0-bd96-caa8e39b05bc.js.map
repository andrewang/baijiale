{"version":3,"sources":["../../../../../../../../assets/scripts/app/game/view/TotalResult/assets/scripts/app/game/view/TotalResult/TotalResultItem.js"],"names":["BaseObj","require","cc","Class","extends","properties","onLoad","setData","data","isRoomOwner","nameString","user_base_info","name","getNameStringCount","substr","find","string","ding_no","resMgr","loadNetUrl","avatar","point","node","color","Color","WHITE","fromHEX","showMyselfBg","uid","gUserData","active"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,OADJ;;AAGLK,gBAAY,EAHP;;AAOLC,YAAQ,kBAAY,CAEnB,CATI;;AAWL;AACAC,aAAS,iBAAUC,IAAV,EAAgBC,WAAhB,EAA6B;AAClC,aAAKD,IAAL,GAAYA,IAAZ;AACA;;AAEA,YAAIE,aAAaF,KAAKG,cAAL,CAAoBC,IAArC;AACA,YAAI,KAAKC,kBAAL,CAAwBH,UAAxB,IAAsC,EAA1C,EAAgD;AAChD;AACIA,6BAAaA,WAAWI,MAAX,CAAkB,CAAlB,EAAqB,KAAKD,kBAAL,CAAwBH,UAAxB,EAAoC,CAApC,CAArB,IAA+D,IAA5E,CADJ,CACsF;AACrF;AACD,aAAKK,IAAL,CAAU,SAAV,EAAqBC,MAArB,GAA8BN,UAA9B;;AAEA,aAAKK,IAAL,CAAU,QAAV,EAAoBC,MAApB,GAA6B,QAAQR,KAAKG,cAAL,CAAoBM,OAAzD;AACAf,WAAGgB,MAAH,CAAUC,UAAV,CAAqB,KAAKJ,IAAL,CAAU,SAAV,CAArB,EAA2CP,KAAKG,cAAL,CAAoBS,MAA/D;;AAEA,YAAIZ,KAAKa,KAAL,IAAc,CAAlB,EAAqB;AACjB,iBAAKN,IAAL,CAAU,UAAV,EAAsBO,IAAtB,CAA2BC,KAA3B,GAAmCrB,GAAGsB,KAAH,CAASC,KAAT,CAAeC,OAAf,CAAuB,SAAvB,CAAnC;AACA,iBAAKX,IAAL,CAAU,UAAV,EAAsBC,MAAtB,GAA+B,MAAMR,KAAKa,KAA1C;AACH,SAHD,MAGO;AACH,iBAAKN,IAAL,CAAU,UAAV,EAAsBO,IAAtB,CAA2BC,KAA3B,GAAmCrB,GAAGsB,KAAH,CAASC,KAAT,CAAeC,OAAf,CAAuB,SAAvB,CAAnC;AACA,iBAAKX,IAAL,CAAU,UAAV,EAAsBC,MAAtB,GAA+BR,KAAKa,KAApC;AACH;AACD,aAAKM,YAAL;AACH,KAlCI;;AAoCLA,kBAAc,wBAAY;AACtB,YAAI,KAAKnB,IAAL,CAAUG,cAAV,CAAyBiB,GAAzB,IAAgCC,UAAUD,GAA9C,EAAmD;AAC/C,iBAAKb,IAAL,CAAU,WAAV,EAAuBO,IAAvB,CAA4BQ,MAA5B,GAAqC,IAArC;AACH,SAFD,MAGK;AACD,iBAAKf,IAAL,CAAU,WAAV,EAAuBO,IAAvB,CAA4BQ,MAA5B,GAAqC,KAArC;AACH;AACJ;AA3CI,CAAT","file":"TotalResultItem.js","sourceRoot":"../../../../../../../../assets/scripts/app/game/view/TotalResult","sourcesContent":["var BaseObj = require(\"BaseObj\")\ncc.Class({\n    extends: BaseObj,\n\n    properties: {\n        \n    },\n\n    onLoad: function () {\n        \n    },\n\n    //data是{user_base_info, point} 。user_base_info:{uid, name, avatar, gender, diamonds}\n    setData: function (data, isRoomOwner) {\n        this.data = data\n        // this.find(\"imgRoomOwner\").node.active = isRoomOwner\n\n        var nameString = data.user_base_info.name\n        if (this.getNameStringCount(nameString) > 10)   //最多容纳5个汉字\n        {\n            nameString = nameString.substr(0, this.getNameStringCount(nameString, 8)) + \"..\"  //大于5个汉字,取前4个汉子字符加..表示\n        }\n        this.find(\"txtName\").string = nameString\n\n        this.find(\"txtUid\").string = \"ID:\" + data.user_base_info.ding_no\n        cc.resMgr.loadNetUrl(this.find(\"imgIcon\"), data.user_base_info.avatar)\n        \n        if (data.point >= 0) {\n            this.find(\"txtPoint\").node.color = cc.Color.WHITE.fromHEX(\"#FFF200\")\n            this.find(\"txtPoint\").string = \"+\" + data.point\n        } else {\n            this.find(\"txtPoint\").node.color = cc.Color.WHITE.fromHEX(\"#ED1C24\")\n            this.find(\"txtPoint\").string = data.point\n        }\n        this.showMyselfBg()\n    },\n\n    showMyselfBg: function () {\n        if (this.data.user_base_info.uid == gUserData.uid) {\n            this.find(\"bg_myself\").node.active = true\n        }\n        else {\n            this.find(\"bg_myself\").node.active = false\n        }\n    },\n});\n"]}