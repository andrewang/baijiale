{"version":3,"sources":["../../../../../../../../assets/scripts/app/game/view/SingleResult/assets/scripts/app/game/view/SingleResult/SingleResultItem.js"],"names":["BaseObj","require","cc","Class","extends","properties","onLoad","setData","data","resMgr","loadNetUrl","find","user_base_info","avatar","nameString","name","getNameStringCount","substr","string","point","gameMgr","view","getPlayerByUid","uid","js","betTotalValue","color","Color","WHITE","node","fromHEX"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,OADJ;;AAGLK,gBAAY,EAHP;;AAOLC,YAAQ,kBAAY,CAEnB,CATI;;AAWL;AACAC,aAAS,iBAAUC,IAAV,EAAgB;AACrB,aAAKA,IAAL,GAAYA,IAAZ;AACA;AACAN,WAAGO,MAAH,CAAUC,UAAV,CAAqB,KAAKC,IAAL,CAAU,SAAV,CAArB,EAA2CH,KAAKI,cAAL,CAAoBC,MAA/D;;AAEA,YAAIC,aAAaN,KAAKI,cAAL,CAAoBG,IAArC;AACA,YAAI,KAAKC,kBAAL,CAAwBF,UAAxB,IAAsC,EAA1C,EAAgD;AAChD;AACIA,6BAAaA,WAAWG,MAAX,CAAkB,CAAlB,EAAqB,KAAKD,kBAAL,CAAwBF,UAAxB,EAAoC,CAApC,CAArB,IAA+D,IAA5E,CADJ,CACsF;AACrF;AACD,aAAKH,IAAL,CAAU,SAAV,EAAqBO,MAArB,GAA8BJ,UAA9B;AACA,YAAIK,QAAQX,KAAKW,KAAL,GAAajB,GAAGkB,OAAH,CAAWC,IAAX,CAAgBC,cAAhB,CAA+Bd,KAAKI,cAAL,CAAoBW,GAAnD,EAAwDC,EAAxD,CAA2DC,aAApF,CAXqB,CAW6E;AAClG,YAAIC,QAAQxB,GAAGyB,KAAH,CAASC,KAArB;AACA,YAAIT,SAAS,CAAb,EAAgB;AACZ,iBAAKR,IAAL,CAAU,UAAV,EAAsBkB,IAAtB,CAA2BH,KAA3B,GAAmCA,MAAMI,OAAN,CAAc,SAAd,CAAnC;AACA,iBAAKnB,IAAL,CAAU,UAAV,EAAsBO,MAAtB,GAA+B,MAAMC,KAArC;AACH,SAHD,MAGO;AACH,iBAAKR,IAAL,CAAU,UAAV,EAAsBkB,IAAtB,CAA2BH,KAA3B,GAAmCA,MAAMI,OAAN,CAAc,SAAd,CAAnC;AACA,iBAAKnB,IAAL,CAAU,UAAV,EAAsBO,MAAtB,GAA+BC,KAA/B;AACH;AACJ;AAhCI,CAAT","file":"SingleResultItem.js","sourceRoot":"../../../../../../../../assets/scripts/app/game/view/SingleResult","sourcesContent":["var BaseObj = require(\"BaseObj\")\ncc.Class({\n    extends: BaseObj,\n\n    properties: {\n        \n    },\n\n    onLoad: function () {\n        \n    },\n\n    //data是{user_base_info, point} 。user_base_info:{uid, name, avatar, gender, diamonds}\n    setData: function (data) {\n        this.data = data\n        // this.find(\"txtName\").string = data.user_base_info.name\n        cc.resMgr.loadNetUrl(this.find(\"imgIcon\"), data.user_base_info.avatar)\n\n        var nameString = data.user_base_info.name\n        if (this.getNameStringCount(nameString) > 10)   //最多容纳5个汉字\n        {\n            nameString = nameString.substr(0, this.getNameStringCount(nameString, 8)) + \"..\"  //大于5个汉字,取前4个汉子字符加..表示\n        }\n        this.find(\"txtName\").string = nameString\n        var point = data.point - cc.gameMgr.view.getPlayerByUid(data.user_base_info.uid).js.betTotalValue //玩家输赢数 = 玩家赢的筹码 - 下注耗费的筹码\n        var color = cc.Color.WHITE\n        if (point >= 0) {\n            this.find(\"txtPoint\").node.color = color.fromHEX(\"#FFF568\")\n            this.find(\"txtPoint\").string = \"+\" + point\n        } else {\n            this.find(\"txtPoint\").node.color = color.fromHEX(\"#ED1C24\")\n            this.find(\"txtPoint\").string = point\n        }\n    },\n});\n"]}