{"version":3,"sources":["AppToGameHelper.js"],"names":["GameToAppHelper","require","AppToGameHelper","exitGame","ExitGame","backToGame","console","log","effectVolume","cc","sys","localStorage","getItem","Number","musicMgr","setEffectVolume","onRechargeResponce","opt","code","common","showMsgBox","type","msg","eventMgr","emit","module","exports"],"mappings":";;;;;;;;AAAA,IAAIA,kBAAkBC,QAAQ,iBAAR,CAAtB;AACA,IAAIC,kBAAkB,EAAtB;;AAIAA,gBAAgBC,QAAhB,GAA2B,YAAY;AAAC;AACpCH,oBAAgBI,QAAhB;AACH,CAFD;;AAIAF,gBAAgBG,UAAhB,GAA6B,YAAY;AAAC;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACAC,YAAQC,GAAR,CAAY,UAAZ;AACA,QAAIC,eAAeC,GAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,KAA+C,GAAlE;AACAJ,mBAAeK,OAAOL,YAAP,CAAf;AACA,QAAIC,GAAGK,QAAP,EAAiB;AACbL,WAAGK,QAAH,CAAYC,eAAZ,CAA4BP,YAA5B;AACH;AACDC,OAAGF,GAAH,CAAOE,GAAGK,QAAV,EAAoBN,YAApB,SAAyCA,YAAzC,yCAAyCA,YAAzC;AAEH,CAnBD;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAN,gBAAgBc,kBAAhB,GAAqC,UAAUC,GAAV,EAAe;AAAC;AACjD;AACAR,OAAGF,GAAH,CAAO,SAAP;AACA,QAAI,CAACU,GAAL,EAAU;AACN;AACH;AACD,QAAI,KAAKA,IAAIC,IAAb,EAAmB;AACfT,WAAGU,MAAH,CAAUC,UAAV,CAAqB,EAAEC,MAAM,CAAR,EAAWC,KAAK,MAAhB,EAArB;AACAb,WAAGc,QAAH,CAAYC,IAAZ,CAAiB,kBAAjB;AACH,KAHD,MAIK,IAAI,KAAKP,IAAIC,IAAb,EAAmB;AACpBT,WAAGU,MAAH,CAAUC,UAAV,CAAqB,EAAEC,MAAM,CAAR,EAAWC,KAAK,MAAhB,EAArB;AACH,KAFI,MAGA,IAAI,KAAKL,IAAIC,IAAb,EAAmB;AACpBT,WAAGU,MAAH,CAAUC,UAAV,CAAqB,EAAEC,MAAM,CAAR,EAAWC,KAAK,MAAhB,EAArB;AACH;AACJ,CAhBD;;AAkBAG,OAAOC,OAAP,GAAiBxB,eAAjB","file":"AppToGameHelper.js","sourceRoot":"../../../../../../assets/scripts/common/sdk","sourcesContent":["var GameToAppHelper = require(\"GameToAppHelper\");\nvar AppToGameHelper = {\n\n};\n\nAppToGameHelper.exitGame = function () {//应用主动退出游戏\n    GameToAppHelper.ExitGame();\n};\n\nAppToGameHelper.backToGame = function () {//返回游戏\n    // console.log(\"game返回游戏\");\n    // cc.global.isSmallWindowMode = false;\n    // var tempClient = require('MjRequestSpecificClient');\n    // tempClient.requestBusy(false);\n    // cc.game.setFrameRate(60);\n\n    // var mjSoundHelper = require('MjSoundHelper');\n    // mjSoundHelper.playingBgMusic();\n\n    //应用回到游戏恢复原来的音量\n    console.log('!!返回游戏!!');\n    var effectVolume = cc.sys.localStorage.getItem('effectVolume') || 0.5\n    effectVolume = Number(effectVolume)\n    if (cc.musicMgr) {\n        cc.musicMgr.setEffectVolume(effectVolume)\n    } \n    cc.log(cc.musicMgr, effectVolume, typeof(effectVolume))\n    \n};\n\n// AppToGameHelper.groupCtrlNumChange = function(opt){//群管理分被修改\n//     console.log(JSON.stringify(opt));\n//     if(cc.gameConfig.clubId == opt.clubId){\n//         var SeatCfg = require('SeatCfg');\n//         SeatCfg.setCreateGroupCtrNum(opt.clubCtrlNum);\n//         cc.global.rootNode.emit(\"ChangeGroupCtrNum\");\n//     }else{\n//         console.log('clubId unequal');\n//     }\n// };\n\nAppToGameHelper.onRechargeResponce = function (opt) {//游戏充值回调\n    // cc.global.rootNode.emit(\"onRechargeResponce\",Number(opt.code));\n    cc.log(\"游戏充值回调!\")\n    if (!opt) {\n        return\n    }\n    if (1 == opt.code) {\n        cc.common.showMsgBox({ type: 1, msg: \"支付成功\" })\n        cc.eventMgr.emit(\"updatePlayerInfo\")\n    }\n    else if (2 == opt.code) {\n        cc.common.showMsgBox({ type: 1, msg: \"支付取消\" })\n    }\n    else if (0 == opt.code) {\n        cc.common.showMsgBox({ type: 1, msg: \"支付失败\" })\n    }\n};\n\nmodule.exports = AppToGameHelper;"]}