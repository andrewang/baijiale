{"version":3,"sources":["MsgBox.js"],"names":["BaseView","require","cc","Class","extends","properties","onLoad","_super","bg","node","getChildByName","on","Node","EventType","TOUCH_END","touch","onBtnCancel","btnCancel","find","btnOk","btnChongZhi","txtContent","setData","params","string","msg","okCb","cancleCb","active","chongZhi","onBtnOk","destroy","common","clearMsgBox"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,QADJ;;AAGLK,gBAAY,EAHP;;AAOL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACA,YAAIC,KAAK,KAAKC,IAAL,CAAUC,cAAV,CAAyB,IAAzB,CAAT;AACA,YAAIF,EAAJ,EAAQ;AACJ;AACA;AACAA,eAAGG,EAAH,CAAMT,GAAGU,IAAH,CAAQC,SAAR,CAAkBC,SAAxB,EAAmC,UAAUC,KAAV,EAAiB;AAChD,qBAAKC,WAAL,GADgD,CACxB;AACxB;AACH,aAHD,EAGG,IAHH;AAIH;;AAED,aAAKC,SAAL,GAAiB,KAAKC,IAAL,CAAU,WAAV,CAAjB;AACA,aAAKC,KAAL,GAAa,KAAKD,IAAL,CAAU,OAAV,CAAb;AACA,aAAKE,WAAL,GAAmB,KAAKF,IAAL,CAAU,aAAV,CAAnB;AACA,aAAKG,UAAL,GAAkB,KAAKH,IAAL,CAAU,YAAV,CAAlB;AACH,KAxBI;;AA0BLI,aAAS,iBAAUC,MAAV,EAAkB;AACvB,aAAKF,UAAL,CAAgBG,MAAhB,GAAyBD,OAAOE,GAAhC;AACA,aAAKC,IAAL,GAAYH,OAAOG,IAAnB;AACA,aAAKC,QAAL,GAAgBJ,OAAOI,QAAvB;AACA,YAAI,KAAKA,QAAT,EAAmB;AACf,iBAAKV,SAAL,CAAeW,MAAf,GAAwB,IAAxB;AACH,SAFD,MAGK;AACD,iBAAKX,SAAL,CAAeW,MAAf,GAAwB,KAAxB;AACA,gBAAI,CAACL,OAAOM,QAAZ,EACI,KAAKF,QAAL,GAAgBJ,OAAOG,IAAvB,CAHH,CAG+B;AACnC;AACD,YAAIH,OAAOM,QAAX,EAAoB;AAChB,iBAAKV,KAAL,CAAWS,MAAX,GAAoB,KAApB;AACA,iBAAKR,WAAL,CAAiBQ,MAAjB,GAA0B,IAA1B;AACA,iBAAKX,SAAL,CAAeW,MAAf,GAAwB,IAAxB;AACH,SAJD,MAIK;AACD,iBAAKT,KAAL,CAAWS,MAAX,GAAoB,IAApB;AACA,iBAAKR,WAAL,CAAiBQ,MAAjB,GAA0B,KAA1B;AACH;AACJ,KA9CI;;AAgDLE,aAAS,mBAAY;AACjB,YAAI,KAAKJ,IAAT,EAAe;AACX,iBAAKA,IAAL;AACH;AACD,aAAKjB,IAAL,CAAUsB,OAAV;AACA7B,WAAG8B,MAAH,CAAUC,WAAV;AACA;AACH,KAvDI;;AAyDLjB,iBAAa,uBAAY;AACrB,YAAI,KAAKW,QAAT,EAAmB;AACf,iBAAKA,QAAL;AACH;AACD,aAAKlB,IAAL,CAAUsB,OAAV;AACA7B,WAAG8B,MAAH,CAAUC,WAAV;AACA;AACH;AAhEI,CAAT","file":"MsgBox.js","sourceRoot":"../../../../../../assets/scripts/common/msg","sourcesContent":["var BaseView = require(\"BaseView\")\ncc.Class({\n    extends: BaseView,\n\n    properties: {\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this._super()\n        var bg = this.node.getChildByName(\"bg\")\n        if (bg) {\n            //MSBOX这里点击背景需要销毁，如果只是hide，会有奇怪的BUG，（进游戏点击两次解散房间，第一次点击背景调用hide，第二次退回到大厅，会发现\n            //这个监听还在，但是this.node.active已经为false）暂时还不清楚什么原因\n            bg.on(cc.Node.EventType.TOUCH_END, function (touch) {\n                this.onBtnCancel()      //点击背景同等与点击取消按钮\n                //this.node.destroy()\n            }, this)\n        }\n\n        this.btnCancel = this.find(\"btnCancel\")\n        this.btnOk = this.find(\"btnOk\")\n        this.btnChongZhi = this.find(\"btnChongZhi\")\n        this.txtContent = this.find(\"txtContent\")\n    },\n\n    setData: function (params) {\n        this.txtContent.string = params.msg\n        this.okCb = params.okCb\n        this.cancleCb = params.cancleCb\n        if (this.cancleCb) {\n            this.btnCancel.active = true\n        }\n        else {\n            this.btnCancel.active = false\n            if (!params.chongZhi)\n                this.cancleCb = params.okCb //如果只剩下确定按钮时，点击背景也是确定。不然解散房间会出现BUG\n        }\n        if (params.chongZhi){\n            this.btnOk.active = false\n            this.btnChongZhi.active = true\n            this.btnCancel.active = true\n        }else{\n            this.btnOk.active = true\n            this.btnChongZhi.active = false\n        }\n    },\n\n    onBtnOk: function () {\n        if (this.okCb) {\n            this.okCb()\n        }\n        this.node.destroy()\n        cc.common.clearMsgBox()\n        // this.hide()\n    },\n\n    onBtnCancel: function () {\n        if (this.cancleCb) {\n            this.cancleCb()\n        }\n        this.node.destroy()\n        cc.common.clearMsgBox()\n        // this.hide()\n    },\n});\n"]}