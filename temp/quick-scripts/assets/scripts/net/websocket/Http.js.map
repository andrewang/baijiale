{"version":3,"sources":["Http.js"],"names":["CustomHttpClient","require","CustomHttpRequest","cc","VERSION","HTTP","Class","extends","Component","statics","sessionId","userId","sendRequest","path","data","handler","extraUrl","gHost","log","requestURL","JSON","stringify","customHttpRequest","setRequestType","setTimeout","setUrl","setData","instance","send","customHttpRequest1","ret","parse","xhr","responseText"],"mappings":";;;;;;AAAA;AACA,IAAIA,mBAAmBC,QAAQ,kBAAR,CAAvB;AACA,IAAIC,oBAAoBD,QAAQ,mBAAR,CAAxB;AACAE,GAAGC,OAAH,GAAa,QAAb;AACA,IAAIC,OAAOF,GAAGG,KAAH,CAAS;AAChBC,aAASJ,GAAGK,SADI;;AAGhBC,aAAS;AACLC,mBAAW,CADN;AAELC,gBAAQ,CAFH;AAGLC,qBAAa,qBAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+BC,QAA/B,EAAyC;AAClD,gBAAIA,YAAY,IAAhB,EAAsB;AAClBA,2BAAWC,KAAX;AACH;AACDd,eAAGe,GAAH,CAAO,OAAP,EAAgBD,KAAhB,EAAuBJ,IAAvB;AACA,gBAAIM,aAAaH,WAAWH,IAA5B;AACAV,eAAGe,GAAH,CAAOC,UAAP,EAAmBC,KAAKC,SAAL,CAAeP,IAAf,CAAnB;AACA,gBAAIQ,oBAAoB,IAAIpB,iBAAJ,EAAxB;AACAoB,8BAAkBC,cAAlB,CAAiC,MAAjC;AACAD,8BAAkBE,UAAlB,CAA6B,IAA7B;AACAF,8BAAkBG,MAAlB,CAAyBN,UAAzB;AACAG,8BAAkBI,OAAlB,CAA0BN,KAAKC,SAAL,CAAeP,IAAf,CAA1B;AACAd,6BAAiB2B,QAAjB,CAA0BC,IAA1B,CAA+BN,iBAA/B,EAAkD,UAAUO,kBAAV,EAA8B;AAC5E,oBAAIA,kBAAJ,EAAwB;AACpB,wBAAIC,MAAMV,KAAKW,KAAL,CAAWF,mBAAmBG,GAAnB,CAAuBC,YAAlC,CAAV;AACAlB,4BAAQe,GAAR;AACH,iBAHD,MAGO;AACHf,4BAAQ,IAAR,EAAc,MAAd;AACH;AACJ,aAPD;AAQH;AAvBI;AAHO,CAAT,CAAX","file":"Http.js","sourceRoot":"../../../../../../assets/scripts/net/websocket","sourcesContent":["//var SystemConfig = require(\"SystemConfig\");\nvar CustomHttpClient = require('CustomHttpClient');\nvar CustomHttpRequest = require('CustomHttpRequest');\ncc.VERSION = 20170524;\nvar HTTP = cc.Class({\n    extends: cc.Component,\n\n    statics: {\n        sessionId: 0,\n        userId: 0,\n        sendRequest: function (path, data, handler, extraUrl) {\n            if (extraUrl == null) {\n                extraUrl = gHost;\n            }\n            cc.log(\"gHost\", gHost, path)\n            var requestURL = extraUrl + path;\n            cc.log(requestURL, JSON.stringify(data));\n            var customHttpRequest = new CustomHttpRequest();\n            customHttpRequest.setRequestType('POST');\n            customHttpRequest.setTimeout(5000);\n            customHttpRequest.setUrl(requestURL);\n            customHttpRequest.setData(JSON.stringify(data));\n            CustomHttpClient.instance.send(customHttpRequest, function (customHttpRequest1) {\n                if (customHttpRequest1) {\n                    var ret = JSON.parse(customHttpRequest1.xhr.responseText);\n                    handler(ret);\n                } else {\n                    handler(null, '网络错误');\n                }\n            });\n        },\n    },\n});"]}